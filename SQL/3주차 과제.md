# 2-6. 연습문제

> SQL 코드를 작성할 때 고려할 것
- 조건
- 어떤 테이블? 어떤 컬럼?
- 어떻게 집계?

>Q1. 포켓몬 중에 type2가 없는 포켓몬의 수를 작성하는 쿼리를 작성하라.

![alt text](<../image/3주차/2-6 1번 답안.png>)

```
~가 없다 : (컬럼) IS NULL
* NULL은 다른 값과 비교할 수 없음.

* AND 연산자로 여러 조건을 연결할 수 있음.
```
**✅어려웠던 점** 

count(id)할거여서 집계할 컬럼을 어떤 것을 사용할지 고민했는데 없어도 된다!!!!

---

> Q2. type2가 없는 포켓몬의 type1과 type1의 포켓몬 수를 알려주는 쿼리를 작성해주세요. 단, type1의 포켓몬 수가 큰 순으로 정렬할 것.

![2번 답안](<../image/3주차/2-6 2번 답안.png>)
```
집계함수는 GROUP BY 와 같이 다님. 
집계하는 컬럼이 없으면 COUNT단독으로도 사용가능
```
**✅헷갈렸던 점** 

SELECT는 결과로 가져올 컬럼들을 명시하는 곳이다 !!!!!!!!!!!

문제를 읽고 어떤 결과를 보고 싶은건지를 확인하자

---

> Q3. type2 상관없이 type1의 포켓몬 수를 알 수 있는 쿼리를 작성하라.

![alt text](<../image/3주차/2-6 3번 답안.png>)

```
✅DISTINCT를 사용하는 경우

고유한 값만(=중복없이) 보고 싶은 경우만 사용
  
해당 테이블에서의 id컬럼은 고유값으로 이루어진 컬럼이지만,어떤 컬럼은 중복이 있게 설계되었을수도 있음
-> DISTINCT도 걸어보고 어떤 방법이 적합한지 판단해보는것도 좋은 방법

예시)
* DAU (Daily Active User) : 하루에 접수한(활동한) 사용자의 수
: Active한 유저의 수를 하루 단위로 집계
```
---

> Q4. 전설 여부에 따른 포켓몬 수를 알 수 있는 쿼리를 작성

![4번답안](<../image/3주차/2-6 4번 답안.png>)
```
[TIP]
- GROUP BY 와 ORDER BY 에 컬럼이 많을 수 있는데, GROUP BY 3 혹은 ORDER BY 2 와 같은 식으로 표기하면 3번째 컬럼과 2번째 컬럼으로 인식이 가능하다.

단, 빠르게 결과를 '확인'할 경우에 권고하며 완성된 쿼리문에서는 가독성을 위해 컬럼을 명시하는게 좋다.

- 쿼리를 작성할 때 흐름에 따라 FROM -> WHERE -> SELECT 순으로 작성하는 것에 익숙해질것
```

> Q5. 동명이인이 있는 이름은 무엇일까요?

![alt text](<../image/3주차/2-7 문제 답안.png>)

**서브쿼리를 사용한 쿼리**
![alt text](<../image/3주차/2-7 문제 답안(서브쿼리).png>)

---

> Q6. trainer 테이블에서 "Iris" 트레이너의 정보를 알 수 있는 쿼리를 작성

![alt text](<../image/3주차/2-6 6번 답안.png>)
```
❗주의할 점
   대·소문자 구분 확실히 할 것
```

---

> Q7. trainer 테이블에서 "Iris","Whitney","Cynthia"트레이너의 정보를 알 수 있는 쿼리를 작성

![alt text](<../image/3주차/2-6 7번 답안.png>)

```
[TIP]
OR 조건으로 쓰기가 귀찮다 -> IN 사용
: name에 괄호 안의 값이 있는 row만 추출
```
---

> Q8.전체 포켓몬 수는 얼마나 될까?

![alt text](<../image/3주차/2-6 8번 답안.png>)

```
unrecognized name 에러 : 컬럼이름에 오타일 가능성있음
```

---

>Q9. 세대(generation)별로 포켓몬 수가 얼마나 되는지 알 수 있는 쿼리를 작성

![alt text](<../image/3주차/2-6 9번 답안.png>)

쉬운 문제였음

---

> Q10. tpye2가 존재하는 포켓몬의 수는 얼마나 될까?

![alt text](<../image/3주차/2-6 10번 답안.png>)

**✅헷갈렸던 점** 

집계를 한다해서 GROUP BY가 반드시 있어야하는 것은 아니다. 

집계할 컬럼이 없으면 GROUPB BY를 쓰지 않는다. 